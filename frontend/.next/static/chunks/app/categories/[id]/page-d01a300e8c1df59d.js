(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{9269:(e,t,a)=>{Promise.resolve().then(a.bind(a,6201))},6046:(e,t,a)=>{"use strict";var s=a(6658);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},6201:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var s=a(5155),d=a(2115),r=a(9675),o=a(6046),i=a(9647),l=a(5086),c=a(6440);let n=(0,a(7401).A)("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);var u=a(8173),g=a.n(u);let p=()=>(0,s.jsx)("div",{className:"w-full flex items-center flex-wrap justify-center gap-10",children:(0,s.jsxs)("div",{className:"grid gap-4 w-60",children:[(0,s.jsx)("div",{className:"w-20 h-20 mx-auto rounded-full shadow-sm flex items-center justify-center",children:(0,s.jsx)(n,{size:60})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-center text-lg pb-1",children:"There is no product here"}),(0,s.jsxs)("p",{className:"text-center text-gray-400 pb-4",children:["Try changing categories",(0,s.jsx)("br",{})]}),(0,s.jsx)("div",{className:"flex gap-3 justify-center",children:(0,s.jsx)(g(),{href:"/",className:"underline font-semibold hover:scale-110  hover:text-accent",children:"Home"})})]})]})}),v=()=>{let{products:e,getProductByCategory:t,loading:a,resetProducts:n}=(0,i.z)(),{id:u}=(0,o.useParams)();return((0,d.useEffect)(()=>{(async()=>{n(),await t(u)})()},[u,t,n]),0===a)?(0,s.jsx)(l.A,{}):(0,s.jsxs)("div",{children:[(0,s.jsx)(r.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeInOut"},children:(0,s.jsx)("h1",{className:"text-xl md:text-4xl mb-5 text-center uppercase",children:u})}),0===e.length?(0,s.jsx)(r.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeInOut"},children:(0,s.jsx)(p,{})}):(0,s.jsx)("div",{className:"w-full md:w-[90%] mx-auto flex  flex-row gap-2 flex-wrap justify-center",children:e.length>0&&e.map((e,t)=>(0,s.jsx)(c.A,{product:e,index:t},e._id))})]})}},5086:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(5155);function d(){return(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-40",children:(0,s.jsxs)("div",{className:"relative w-16 h-16",children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-gray-700 border-t-indigo-500 animate-spin"}),(0,s.jsx)("div",{className:"absolute inset-4 rounded-full border-4 border-gray-800 border-t-indigo-500 animate-spin-slow"})]})})}},9647:(e,t,a)=>{"use strict";a.d(t,{z:()=>o});var s=a(9827),d=a(4922),r=a(1068);let o=(0,s.v)((e,t)=>({products:[],setProducts:t=>e({products:t}),loading:!1,loadingProductId:null,createProduct:async t=>{e({loading:!0});try{let a=await d.A.post("/products/create",t);e(e=>({products:[...e.products,a.data]})),r.oR.success("Product created successfully"),e({loading:!1})}catch(t){var a,s;e({loading:!1}),r.oR.error((null===(s=t.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Product creation failed")}},getAllProducts:async()=>{e({loading:!0});try{let t=await d.A.get("/products");return e({products:t.data.products,loading:!1}),t.data}catch(s){var t,a;e({loading:!1}),r.oR.error((null===(a=s.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Product creation failed")}},deleteProduct:async t=>{e({loading:!0});try{await d.A.delete("/products/delete/".concat(t)),e(e=>({products:e.products.filter(e=>e._id!==t)})),r.oR.success("Product deleted successfully"),e({loading:!1})}catch(t){var a,s;console.log(t),e({loading:!1}),r.oR.error((null===(s=t.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Product deletion failed")}},toggleFeaturedProduct:async t=>{e({loadingProductId:t}),e({loading:!0});try{let a=await d.A.patch("/products/toggle-featured/".concat(t));e(e=>({products:e.products.map(e=>e._id===t?a.data:e)})),r.oR.success("Product updated successfully"),e({loadingProductId:null}),e({loading:!1})}catch(t){var a,s;e({loading:!1}),r.oR.error((null===(s=t.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Product update failed")}},getProductByCategory:async t=>{try{e({loading:!0});let a=await d.A.get("/products/".concat(t));return e({loading:!1}),e({products:a.data.products}),a.data.products}catch(t){var a,s;e({loading:!1}),r.oR.error((null===(s=t.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"ERR_NETWORK")}},getFeaturedProducts:async()=>{try{e({loading:!0});let t=await d.A.get("/products/featured");console.log(t.data),e({products:t.data}),e({loading:!1})}catch(s){var t,a;e({loading:!1}),r.oR.error((null===(a=s.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"ERR_NETWORK")}},resetProducts:()=>{e({products:[]})}}))}},e=>{var t=t=>e(e.s=t);e.O(0,[865,372,565,173,394,869,273,440,441,517,358],()=>t(9269)),_N_E=e.O()}]);