(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},3997:e=>{"use strict";e.exports=require("tty")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},4571:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>n});var r=s(260),a=s(8203),i=s(5155),o=s.n(i),l=s(7292),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let n=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6487)),"/Users/bakenbaevFamily/Desktop/My Job/e-store/frontend/src/app/page.jsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5421)),"/Users/bakenbaevFamily/Desktop/My Job/e-store/frontend/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/bakenbaevFamily/Desktop/My Job/e-store/frontend/src/app/page.jsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},8560:(e,t,s)=>{Promise.resolve().then(s.bind(s,6487))},2112:(e,t,s)=>{Promise.resolve().then(s.bind(s,5134))},4564:(e,t,s)=>{"use strict";s.d(t,{A:()=>y});var r=s(5512),a=s(8009),i=s(6559),o=s(5529),l=s(6951),d=s(4305),n=s(617),c=s(1124),u=s(5103),p=s(6667),x=s(4097),m=s(2206),h=s(4750),g=s(4849);let y=({product:e,index:t,size:s})=>{let[y,f]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!0),{addToCart:b,getCartItems:w}=(0,g.x)(),{user:P}=(0,m.k)(),[k,N]=(0,a.useState)(!0),A=async e=>{N(!0),P||h.oR.error("Please login to add to cart"),await b(e),h.oR.success("Product added to cart",{autoClose:4e3}),w()};return(0,a.useEffect)(()=>{P&&N(P?.cartItems.some(t=>t.product.toString()===e._id)),w()},[P?.cartItems,e?._id,w,P]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p.P.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:.2*t,duration:.5}}},initial:"hidden",animate:"visible",className:`bg-slate-800 overflow-hidden  hover:bg-slate-700 py-4 rounded-md 
        shadow-md  ${s?"max-w-xs":" max-w-md min-w-[120px]"} flex flex-col 
        sm:flex-${s?"col":"row"} items-center gap-4 group`,children:[(0,r.jsx)("div",{onClick:()=>{f(!0)},className:"cursor-pointer",children:(0,r.jsx)(u.default,{height:180,width:320,src:e.image,alt:"photo of "+e.name,className:`group-hover:scale-105 duration-300 ease-in-out ${s?"w-[180px] h-[180px]":"min-w-[180px] max-h-[320px]"} object-cover`})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 p-2",children:[(0,r.jsx)("h3",{className:`text-${s?"md":"lg"} font-semibold text-white`,children:e.name}),!s&&(0,r.jsxs)("span",{className:"capitalize text-gray-400",children:["Category: ",e.category]}),s?"":(0,r.jsxs)("div",{className:"text-gray-400",children:["Description:",(0,r.jsx)("div",{onClick:()=>{j(!v)},className:"text-sm text-gray-200 cursor-pointer",children:v?(0,r.jsxs)(r.Fragment,{children:[(0,x.E)(e.description,100),(0,r.jsx)("span",{className:"text-accent",children:"read more"})]}):e.description})]}),(0,r.jsx)("div",{className:"w-full h-[1px] bg-gray-500 my-2"}),(0,r.jsxs)("p",{className:`text-${s?"sm":"lg"} font-bold  text-right`,children:[(0,r.jsx)("span",{children:"Price:"}),(0,r.jsxs)("span",{children:[" $",e.price.toFixed(2)]})]}),(0,r.jsx)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:e.isFeatured&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-yellow-500",children:[(0,r.jsx)(n.A,{size:16})," ",(0,r.jsx)("span",{children:"Featured"})]})}),(0,r.jsx)("div",{className:"flex items-center justify-between mt-auto",children:(0,r.jsxs)(i.A,{onClick:()=>{A(e)},variant:"contained",color:"success",className:`flex items-center gap-2 text-${s?"sm":"md"} `,children:[(0,r.jsx)(c.A,{size:18}),k?"Added to cart":"Add to cart"]})})]})]}),(0,r.jsxs)(o.A,{open:y,onClose:()=>{f(!1)},fullWidth:!0,maxWidth:"sm",PaperProps:{style:{color:"black",borderRadius:"10px",overflow:"hidden"}},children:[(0,r.jsxs)(l.A,{children:["Product title : ",e.name]}),(0,r.jsx)(d.A,{children:(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsx)(u.default,{height:500,width:500,src:e.image,alt:"photo of "+e.name,className:"rounded-md"})})})]})]})}},5134:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var r=s(5512),a=s(8009),i=s(8531),o=s.n(i),l=s(5103),d=s(6667);let n=({cat:e,image:t})=>(0,r.jsx)("div",{className:"w-[280px]  md:w-[180px]  lg:w-[160px] aspect-[4/5] max-w-md  shadow-lg relative group m-2 px-2 md:px-0 ",children:(0,r.jsx)(o(),{className:"no-hover-link",href:`/categories/${e}`,children:(0,r.jsxs)("div",{className:"relative w-full h-full",children:[(0,r.jsx)("div",{title:e,className:"absolute w-full h-full  rounded-lg flex justify-center  inset-0 bg-black opacity-0 group-hover:opacity-40 duration-300 ease-in-out z-10 "}),(0,r.jsx)(l.default,{src:t,alt:`${e}-category`,fill:!0,style:{objectFit:"cover",objectPosition:"center"},className:"rounded-lg"}),(0,r.jsx)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:2.5,ease:"easeInOut",repeat:1/0,repeatDelay:10},className:"absolute bottom-4 left-4 px-4 py-2 ",children:(0,r.jsx)("h5",{className:"text-xl capitalize text-accent ",children:e})})]})})});var c=s(8546);let u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{staggerChildren:.3}}},p=e=>({hidden:{opacity:0,y:e%2==0?20:-20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:80}}});var x=s(2206),m=s(5456),h=s(1680);let g=(0,h.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),y=(0,h.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var f=s(4564),v=s(7879),j=s(8456);let b=()=>{let{products:e,getFeaturedProducts:t,loading:s}=(0,v.z)();(0,a.useEffect)(()=>{t()},[t]);let i=e=>{let t=document.getElementById("carousel-container");"next"===e?t.scrollLeft+=5:t.scrollLeft-=5};return s?(0,r.jsx)(j.A,{}):(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{id:"carousel-container",className:"w-full flex space-x-4 justify-center overflow-x-auto no-scrollbar",children:e?.map((e,t)=>r.jsx(f.A,{index:t,product:e,size:"small"},e._id))}),(0,r.jsx)("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 p-2",children:(0,r.jsx)("button",{className:"bg-gray-500 text-white p-2 rounded-full",onClick:()=>i("prev"),children:(0,r.jsx)(g,{className:"w-6 h-6 text-white"})})}),(0,r.jsx)("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 p-2",children:(0,r.jsx)("button",{className:"bg-gray-500 text-white p-2 rounded-full",onClick:()=>i("next"),children:(0,r.jsx)(y,{className:"w-6 h-6 text-white"})})})]})},w=()=>{let{checkAuth:e,user:t}=(0,x.k)(),[s,i]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(t||e(),t)return;let r=setTimeout(()=>{t&&s||i(!0)},5e3);return()=>clearTimeout(r)},[e,t,s]),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.A,{isOpen:s,setIsOpen:i,closeModal:()=>{i(!1)}}),(0,r.jsx)(d.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:2,ease:"easeInOut"},children:(0,r.jsx)("h1",{className:"text-xl md:text-4xl mb-5 text-center",children:"Discover Our Categories"})}),(0,r.jsx)(d.P.div,{className:"w-full md:w-[90%]  mx-auto flex flex-row flex-wrap justify-center",variants:u,initial:"hidden",animate:"visible",children:c.Q.map((e,t)=>(0,r.jsx)(d.P.div,{variants:p(t),children:(0,r.jsx)(n,{cat:e.cat,image:e.image})},t))}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"flex flex-col text-xl md:text-2xl text-accent  my-5 text-center",children:"Featured Products"}),(0,r.jsx)(b,{})]})]})}},8546:(e,t,s)=>{"use strict";s.d(t,{Q:()=>l,v:()=>d});var r=s(1680);let a=(0,r.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),i=(0,r.A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),o=(0,r.A)("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),l=[{cat:"suits",image:"/categories/suits.jpg"},{cat:"t-shirts",image:"/categories/t-shirt.jpg"},{cat:"jeans",image:"/categories/jeans.jpg"},{cat:"dress",image:"/categories/dress.jpg"},{cat:"trousers",image:"/categories/pants.jpg"},{cat:"blouses",image:"/categories/blouse.jpg"}],d=[{id:"create",label:"Create",icon:a},{id:"products",label:"Products",icon:i},{id:"analitics",label:"Analytics",icon:o}]},4097:(e,t,s)=>{"use strict";s.d(t,{E:()=>r});let r=(e,t)=>e?.length>t?e.substring(0,t)+"... ":e},7879:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var r=s(2803),a=s(2850),i=s(4750);let o=(0,r.v)((e,t)=>({products:[],setProducts:t=>e({products:t}),loading:!1,loadingProductId:null,createProduct:async t=>{e({loading:!0});try{let s=await a.A.post("/products/create",t);e(e=>({products:[...e.products,s.data]})),i.oR.success("Product created successfully"),e({loading:!1})}catch(t){e({loading:!1}),i.oR.error(t.response?.data?.message||"Product creation failed")}},getAllProducts:async()=>{e({loading:!0});try{let t=await a.A.get("/products");return e({products:t.data.products,loading:!1}),t.data}catch(t){e({loading:!1}),i.oR.error(t.response?.data?.message||"Product creation failed")}},deleteProduct:async t=>{e({loading:!0});try{await a.A.delete(`/products/delete/${t}`),e(e=>({products:e.products.filter(e=>e._id!==t)})),i.oR.success("Product deleted successfully"),e({loading:!1})}catch(t){console.log(t),e({loading:!1}),i.oR.error(t.response?.data?.message||"Product deletion failed")}},toggleFeaturedProduct:async t=>{e({loadingProductId:t}),e({loading:!0});try{let s=await a.A.patch(`/products/toggle-featured/${t}`);e(e=>({products:e.products.map(e=>e._id===t?s.data:e)})),i.oR.success("Product updated successfully"),e({loadingProductId:null}),e({loading:!1})}catch(t){e({loading:!1}),i.oR.error(t.response?.data?.message||"Product update failed")}},getProductByCategory:async t=>{try{e({loading:!0});let s=await a.A.get(`/products/${t}`);return e({loading:!1}),e({products:s.data.products}),s.data.products}catch(t){e({loading:!1}),i.oR.error(t.response?.data?.message||"ERR_NETWORK")}},getFeaturedProducts:async()=>{try{e({loading:!0});let t=await a.A.get("/products/featured");console.log(t.data),e({products:t.data}),e({loading:!1})}catch(t){e({loading:!1}),i.oR.error(t.response?.data?.message||"ERR_NETWORK")}},resetProducts:()=>{e({products:[]})}}))},6487:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bakenbaevFamily/Desktop/My Job/e-store/frontend/src/app/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bakenbaevFamily/Desktop/My Job/e-store/frontend/src/app/page.jsx","default")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[859,259,933],()=>s(4571));module.exports=r})();