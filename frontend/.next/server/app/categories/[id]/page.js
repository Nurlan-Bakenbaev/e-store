(()=>{var e={};e.id=411,e.ids=[411],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},3997:e=>{"use strict";e.exports=require("tty")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},2597:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var r=s(260),a=s(8203),i=s(5155),o=s.n(i),d=s(7292),n={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);s.d(t,n);let c=["",{children:["categories",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1510)),"/Users/bakenbaevFamily/Desktop/My Job/e-store/frontend/src/app/categories/[id]/page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5421)),"/Users/bakenbaevFamily/Desktop/My Job/e-store/frontend/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"]}],l=["/Users/bakenbaevFamily/Desktop/My Job/e-store/frontend/src/app/categories/[id]/page.jsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/categories/[id]/page",pathname:"/categories/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},787:(e,t,s)=>{Promise.resolve().then(s.bind(s,1510))},6443:(e,t,s)=>{Promise.resolve().then(s.bind(s,4625))},4625:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(5512),a=s(8009),i=s(6667),o=s(9334),d=s(7879),n=s(8456),c=s(4564);let l=(0,s(1680).A)("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);var u=s(8531),p=s.n(u);let x=()=>(0,r.jsx)("div",{className:"w-full flex items-center flex-wrap justify-center gap-10",children:(0,r.jsxs)("div",{className:"grid gap-4 w-60",children:[(0,r.jsx)("div",{className:"w-20 h-20 mx-auto rounded-full shadow-sm flex items-center justify-center",children:(0,r.jsx)(l,{size:60})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-center text-lg pb-1",children:"There is no product here"}),(0,r.jsxs)("p",{className:"text-center text-gray-400 pb-4",children:["Try changing categories",(0,r.jsx)("br",{})]}),(0,r.jsx)("div",{className:"flex gap-3 justify-center",children:(0,r.jsx)(p(),{href:"/",className:"underline font-semibold hover:scale-110  hover:text-accent",children:"Home"})})]})]})}),m=()=>{let{products:e,getProductByCategory:t,loading:s,resetProducts:l}=(0,d.z)(),{id:u}=(0,o.useParams)();return((0,a.useEffect)(()=>{(async()=>{l(),await t(u)})()},[u,t,l]),0===s)?(0,r.jsx)(n.A,{}):(0,r.jsxs)("div",{children:[(0,r.jsx)(i.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeInOut"},children:(0,r.jsx)("h1",{className:"text-xl md:text-4xl mb-5 text-center uppercase",children:u})}),0===e.length?(0,r.jsx)(i.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeInOut"},children:(0,r.jsx)(x,{})}):(0,r.jsx)("div",{className:"w-full md:w-[90%] mx-auto flex  flex-row gap-2 flex-wrap justify-center",children:e.length>0&&e.map((e,t)=>(0,r.jsx)(c.A,{product:e,index:t},e._id))})]})}},4564:(e,t,s)=>{"use strict";s.d(t,{A:()=>f});var r=s(5512),a=s(8009),i=s(6559),o=s(5529),d=s(6951),n=s(4305),c=s(617),l=s(1124),u=s(5103),p=s(6667),x=s(4097),m=s(2206),h=s(4750),g=s(4849);let f=({product:e,index:t,size:s})=>{let[f,y]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!0),{addToCart:b,getCartItems:P}=(0,g.x)(),{user:w}=(0,m.k)(),[N,k]=(0,a.useState)(!0),A=async e=>{k(!0),w||h.oR.error("Please login to add to cart"),await b(e),h.oR.success("Product added to cart",{autoClose:4e3}),P()};return(0,a.useEffect)(()=>{w&&k(w?.cartItems.some(t=>t.product.toString()===e._id)),P()},[w?.cartItems,e?._id,P,w]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p.P.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:.2*t,duration:.5}}},initial:"hidden",animate:"visible",className:`bg-slate-800 overflow-hidden  hover:bg-slate-700 py-4 rounded-md 
        shadow-md  ${s?"max-w-xs":" max-w-md min-w-[120px]"} flex flex-col 
        sm:flex-${s?"col":"row"} items-center gap-4 group`,children:[(0,r.jsx)("div",{onClick:()=>{y(!0)},className:"cursor-pointer",children:(0,r.jsx)(u.default,{height:180,width:320,src:e.image,alt:"photo of "+e.name,className:`group-hover:scale-105 duration-300 ease-in-out ${s?"w-[180px] h-[180px]":"min-w-[180px] max-h-[320px]"} object-cover`})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 p-2",children:[(0,r.jsx)("h3",{className:`text-${s?"md":"lg"} font-semibold text-white`,children:e.name}),!s&&(0,r.jsxs)("span",{className:"capitalize text-gray-400",children:["Category: ",e.category]}),s?"":(0,r.jsxs)("div",{className:"text-gray-400",children:["Description:",(0,r.jsx)("div",{onClick:()=>{v(!j)},className:"text-sm text-gray-200 cursor-pointer",children:j?(0,r.jsxs)(r.Fragment,{children:[(0,x.E)(e.description,100),(0,r.jsx)("span",{className:"text-accent",children:"read more"})]}):e.description})]}),(0,r.jsx)("div",{className:"w-full h-[1px] bg-gray-500 my-2"}),(0,r.jsxs)("p",{className:`text-${s?"sm":"lg"} font-bold  text-right`,children:[(0,r.jsx)("span",{children:"Price:"}),(0,r.jsxs)("span",{children:[" $",e.price.toFixed(2)]})]}),(0,r.jsx)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:e.isFeatured&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-yellow-500",children:[(0,r.jsx)(c.A,{size:16})," ",(0,r.jsx)("span",{children:"Featured"})]})}),(0,r.jsx)("div",{className:"flex items-center justify-between mt-auto",children:(0,r.jsxs)(i.A,{onClick:()=>{A(e)},variant:"contained",color:"success",className:`flex items-center gap-2 text-${s?"sm":"md"} `,children:[(0,r.jsx)(l.A,{size:18}),N?"Added to cart":"Add to cart"]})})]})]}),(0,r.jsxs)(o.A,{open:f,onClose:()=>{y(!1)},fullWidth:!0,maxWidth:"sm",PaperProps:{style:{color:"black",borderRadius:"10px",overflow:"hidden"}},children:[(0,r.jsxs)(d.A,{children:["Product title : ",e.name]}),(0,r.jsx)(n.A,{children:(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsx)(u.default,{height:500,width:500,src:e.image,alt:"photo of "+e.name,className:"rounded-md"})})})]})]})}},4097:(e,t,s)=>{"use strict";s.d(t,{E:()=>r});let r=(e,t)=>e?.length>t?e.substring(0,t)+"... ":e},7879:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var r=s(2803),a=s(2850),i=s(4750);let o=(0,r.v)((e,t)=>({products:[],setProducts:t=>e({products:t}),loading:!1,loadingProductId:null,createProduct:async t=>{e({loading:!0});try{let s=await a.A.post("/products/create",t);e(e=>({products:[...e.products,s.data]})),i.oR.success("Product created successfully"),e({loading:!1})}catch(t){e({loading:!1}),i.oR.error(t.response?.data?.message||"Product creation failed")}},getAllProducts:async()=>{e({loading:!0});try{let t=await a.A.get("/products");return e({products:t.data.products,loading:!1}),t.data}catch(t){e({loading:!1}),i.oR.error(t.response?.data?.message||"Product creation failed")}},deleteProduct:async t=>{e({loading:!0});try{await a.A.delete(`/products/delete/${t}`),e(e=>({products:e.products.filter(e=>e._id!==t)})),i.oR.success("Product deleted successfully"),e({loading:!1})}catch(t){console.log(t),e({loading:!1}),i.oR.error(t.response?.data?.message||"Product deletion failed")}},toggleFeaturedProduct:async t=>{e({loadingProductId:t}),e({loading:!0});try{let s=await a.A.patch(`/products/toggle-featured/${t}`);e(e=>({products:e.products.map(e=>e._id===t?s.data:e)})),i.oR.success("Product updated successfully"),e({loadingProductId:null}),e({loading:!1})}catch(t){e({loading:!1}),i.oR.error(t.response?.data?.message||"Product update failed")}},getProductByCategory:async t=>{try{e({loading:!0});let s=await a.A.get(`/products/${t}`);return e({loading:!1}),e({products:s.data.products}),s.data.products}catch(t){e({loading:!1}),i.oR.error(t.response?.data?.message||"ERR_NETWORK")}},getFeaturedProducts:async()=>{try{e({loading:!0});let t=await a.A.get("/products/featured");console.log(t.data),e({products:t.data}),e({loading:!1})}catch(t){e({loading:!1}),i.oR.error(t.response?.data?.message||"ERR_NETWORK")}},resetProducts:()=>{e({products:[]})}}))},1510:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bakenbaevFamily/Desktop/My Job/e-store/frontend/src/app/categories/[id]/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bakenbaevFamily/Desktop/My Job/e-store/frontend/src/app/categories/[id]/page.jsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[859,259,933],()=>s(2597));module.exports=r})();